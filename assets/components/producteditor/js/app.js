!function(){"use strict";e.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"];var r=[function(e){var c=function(e){var t,n,r,o,u,i,l="";for(t in e)if((n=e[t])instanceof Array)for(i=0;i<n.length;++i)o=n[i],(u={})[t+"["+i+"]"]=o,l+=c(u)+"&";else if(n instanceof Object)for(r in n)o=n[r],(u={})[t+"["+r+"]"]=o,l+=c(u)+"&";else null!=n&&(l+=encodeURIComponent(t)+"="+encodeURIComponent(n)+"&");return l.length?l.substr(0,l.length-1):l};return angular.isObject(e)&&"[object File]"!==String(e)?c(e):e}];function e(e,t,n){e.state({name:"home",url:"/",templateUrl:"/home/index.html",controller:"HomeCtrl",controllerAs:"hc"}),e.state({name:"about",url:"/about",template:"<h3>about</h3>"}),t.otherwise("/"),n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",n.defaults.transformRequest=r}angular.module("manager",["ui.router","home","templates"]).config(e).run(function(){}).controller("MainCtrl",function(){}).filter("renderFieldValue",function(){return function(e){return e}}).service("Config",function(){this.connector_url=pe_config.assets_url+"components/producteditor/connector.php"})}();
!function(){"use strict";function e(n,e,t,i){var r=this;r.result="",r.products=[],r.count=0;r.gridOptions={enableSorting:!0,columnDefs:[{name:"id",field:"id",displayName:"",enableCellEdit:!1,width:48,headerCellTemplate:"/home/headers/id.html"},{name:"название",field:"pagetitle"},{name:"аннотация",field:"introtext"},{name:"алиас",field:"alias"},{name:"Тип",field:"type",editableCellTemplate:"ui-grid/dropdownEditor",editDropdownValueLabel:"type",editDropdownOptionsArray:[{id:1,type:"эко-грунт"},{id:2,type:"концентрат"},{id:3,type:"жидкий"},{id:4,type:"гумат"},{id:5,type:"черви"}]},{name:"сорт",field:"sort_order_custom",cellFilter:"number"},{name:"Цена Регионы",field:"price",cellFilter:"number"},{name:"Цена Самара",field:"price_action",cellFilter:"number"},{name:"Цена Сибирь",field:"price_dv",cellFilter:"number"},{name:"Объем, л",field:"inventory",headerCellTemplate:"/home/headers/volume.html",width:48,cellFilter:"number"},{name:"Вес, кг",field:"weight",headerCellTemplate:"/home/headers/weight.html",width:48,cellFilter:"number"}],data:"hc.products"},r.msg={},r.gridOptions.onRegisterApi=function(e){(r.gridApi=e).edit.on.afterCellEdit(n,function(e,t,i,l){r.msg.lastCellEdited="edited row id:"+e.id+" Column:"+t.name+" newValue:"+i+" oldValue:"+l,n.$apply()})};var l;l={HTTP_MODAUTH:pe_config.auth_token,action:"mgr/item/getproductslist"},e.post(i.connector_url,l).then(function(e){r.count=e.data.total,r.products=e.data.object,r.result=e},function(e){r.result=e})}e.$inject=["$scope","$http","$rootScope","Config"],angular.module("home",["ui.router","ui.grid","ui.grid.edit"]).controller("HomeCtrl",e).config(function(){}).filter("mapTypes",function(){var t={1:"эко-грунт",2:"концентрат",3:"жидкий",4:"гумат",5:"черви"};return function(e){return e?t[e]:""}})}();